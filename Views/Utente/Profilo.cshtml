@using Microsoft.AspNetCore.Mvc.TagHelpers
@using SAC_eCommerce.Models.Classes
@model SAC_eCommerce.Models.Classes.Utente

@{
    ViewBag.Title = "title";
    Layout = "_Layout";
    var ordini = ViewBag.Ordini as List<Ordine>;
}

<!DOCTYPE html>

<html>
<head>
    <title>title</title>
</head>
<body class="bg-zinc-950">
<section class="py-8 antialiased ">
  <div class="mx-auto max-w-screen-lg px-4 2xl:px-0">
    <nav class="mb-4 flex" aria-label="Breadcrumb">
      <ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
        <li class="inline-flex items-center">
          <a asp-controller="Home" asp-action="Index"
             class="inline-flex items-center text-sm font-medium hover:text-primary-600 text-gray-400">
            <svg class="me-2 h-4 w-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                 fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"/>
            </svg>
            Home
          </a>
        </li>
        <li>
          <div class="flex items-center">
            <svg class="mx-1 h-4 w-4 text-gray-400 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                 width="24" height="24" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m9 5 7 7-7 7"/>
            </svg>
            <a asp-action="Profilo"
               class="ms-1 text-sm font-medium  hover:text-primary-600 text-gray-400 hover:text-white md:ms-2">
              Il mio account
            </a>
          </div>
        </li>
      </ol>
    </nav>
    <h2 class="mb-4 text-xl font-semibold text-gray-900 text-white sm:text-2xl md:mb-6">
      Bentornato, @Model.Nome</h2>
    <div
      class="grid grid-cols-2 gap-6 border-b border-t border-gray-200 py-4 border-gray-700 md:py-8 lg:grid-cols-3 xl:gap-16">
      <div>
        <svg class="mb-2 h-8 w-8 text-gray-400 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
             width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M5 4h1.5L9 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-8.5-3h9.25L19 7H7.312"/>
        </svg>
        <h3 class="mb-2 text-gray-500 text-gray-400">Ordini effettuati</h3>
        <span class="flex items-center text-2xl font-bold text-gray-900 text-white"
        >@ordini.Count()

        </span>

      </div>


      <div>
        <svg class="mb-2 h-8 w-8 text-gray-400 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
             width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-width="2"
                d="M11.083 5.104c.35-.8 1.485-.8 1.834 0l1.752 4.022a1 1 0 0 0 .84.597l4.463.342c.9.069 1.255 1.2.556 1.771l-3.33 2.723a1 1 0 0 0-.337 1.016l1.03 4.119c.214.858-.71 1.552-1.474 1.106l-3.913-2.281a1 1 0 0 0-1.008 0L7.583 20.8c-.764.446-1.688-.248-1.474-1.106l1.03-4.119A1 1 0 0 0 6.8 14.56l-3.33-2.723c-.698-.571-.342-1.702.557-1.771l4.462-.342a1 1 0 0 0 .84-.597l1.753-4.022Z"/>
        </svg>
        <h3 class="mb-2 text-gray-500 text-gray-400">Recensioni effettuate</h3>
        <span class="flex items-center text-2xl font-bold text-gray-900 text-white"
        >16

        </span>

      </div>



      <div>
        <svg class="mb-2 h-8 w-8 text-gray-400 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="2" y="5" width="20" height="14" rx="2" ry="2"></rect>
          <line x1="2" y1="10" x2="22" y2="10"></line>
          <circle cx="8" cy="15" r="1"></circle>
          <circle cx="12" cy="15" r="1"></circle>
          <circle cx="16" cy="15" r="1"></circle>
        </svg>
        <h3 class="mb-2 text-gray-500 text-gray-400">Punti carta fedeltà</h3>
        <span class="flex items-center text-2xl font-bold text-gray-900 text-white"
        >@Model.Points

        </span>

      </div>




    </div>
    <div class="py-4 md:py-8">
      <div class="mb-4 grid gap-4 sm:grid-cols-2 sm:gap-8 lg:gap-16">
        <div class="space-y-4">
          <div class="flex space-x-4">
            <img class="h-16 w-16 rounded-lg"
                 src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/avatars/helene-engels.png"
                 alt="Helene avatar"/>
            <div>

              <h2 class="flex items-center text-xl font-bold leading-none text-gray-900 text-white sm:text-2xl">
                @Model.Nome @Model.Cognome</h2>
            </div>
          </div>
          <dl class="">
            <dt class="font-semibold text-gray-900 text-white">Email</dt>
            <dd class="text-gray-500 text-gray-400">@Model.Email</dd>
          </dl>
          <dl>
            <dt class="font-semibold text-gray-900 text-white">Indirizzo</dt>
            <dd class="flex items-center gap-1 text-gray-500 text-gray-400">
              <svg class="hidden h-5 w-5 shrink-0 text-gray-400 text-gray-500 lg:inline" aria-hidden="true"
                   xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"/>
              </svg>
              Via Dei Mille 23, Roma 00042
            </dd>
          </dl>
          <dl>


          </dl>
        </div>
        <div class="space-y-4">
          <dl>
            <dt class="font-semibold text-gray-900 text-white">Telefono</dt>
            <dd class="text-gray-500 text-gray-400">+39 392 00 33 399</dd>
          </dl>
          <dl>
            <dt class="mb-1 font-semibold text-gray-900 text-white">Carta Fedeltà</dt>
            <dd class="flex items-center space-x-4 text-gray-500 text-gray-400">
              <div class="flex h-12 w-12 shrink-0 items-center justify-center rounded-lg">
                <img class=" w-auto"
                     src="https://www.si-soluzioniinformatiche.it/wp-content/uploads/2020/05/Fidelity_card_LS-19274.png" alt=""/>
                <img class="hidden h-4 w-auto flex"
                     src="https://www.si-soluzioniinformatiche.it/wp-content/uploads/2020/05/Fidelity_card_LS-19274.png" alt=""/>
              </div>
              <div>
                <div class="text-sm">
                  <p class="mb-0.5 font-medium text-gray-900 text-white">Numero carta: @Model.Card_Number</p>
                  <p class="font-normal text-gray-500 text-gray-400">Scadenza 10/2030</p>
                </div>
              </div>
            </dd>
          </dl>

          <dl>
            <dt class="mb-1 font-semibold text-gray-900 text-white">Metodi di pagamento</dt>
            <dd class="flex items-center space-x-4 text-gray-500 text-gray-400">
              <div class="flex h-12 w-12 shrink-0 items-center justify-center rounded-lg">
                <img class=" w-auto"
                     src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Old_Visa_Logo.svg/2560px-Old_Visa_Logo.svg.png" alt=""/>
                <img class="hidden h-4 w-auto flex"
                     src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Old_Visa_Logo.svg/2560px-Old_Visa_Logo.svg.png" alt=""/>
              </div>
              <div>
                <div class="text-sm">
                  <p class="mb-0.5 font-medium text-gray-900 text-white">Visa finisce con 7658</p>
                  <p class="font-normal text-gray-500 text-gray-400">Scadenza 10/2028</p>
                </div>
              </div>
            </dd>
          </dl>
        </div>
      </div>
      <button type="button" data-modal-target="accountInformationModal2" data-modal-toggle="accountInformationModal2"
              class="inline-flex w-fit items-center justify-center rounded-md bg-orange-600/50 border-2 border-orange-600 transition-all duration-300 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600">
        <i class="ti ti-edit me-2 h-4 w-4"></i>
        Modifica il tuo profilo
      </button>
    </div>
    <div class="rounded-lg border border-gray-200  p-4 border-gray-700  md:p-8">
      <h3 class="mb-4 text-xl font-semibold text-gray-900 text-white">Ultimi ordini</h3>

      @foreach (var ordine in ordini)
      {
      <div class="flex flex-wrap items-center gap-y-4 border-b border-gray-200 pb-4 border-gray-700 md:pb-5">
        <dl class="w-1/2 sm:w-48">
          <dt class="text-base font-medium text-gray-500 text-gray-400">ID Ordine:</dt>
          <dd class="mt-1.5 text-base font-semibold text-gray-900 text-white">
            <a href="#" class="hover:underline">
              @if (ordine.Tipo_Ordine == "Acquisto Online")
              {
                @("#ECO" + ordine.Id)
              }
              else
              {
                @("#NEG" + ordine.Id)
              }
            </a>
          </dd>
        </dl>
        <dl class="w-1/2 sm:w-1/4 md:flex-1 lg:w-auto">
          <dt class="text-base font-medium text-gray-400">Data:</dt>
          <dd
            class="mt-1.5 text-base font-semibold text-white">@ordine.Data.ToString("dd-MM-yyyy HH:mm")</dd>
        </dl>

        <dl class="w-1/2 sm:w-1/5 md:flex-1 lg:w-auto">
          <dt class="text-base font-medium text-gray-400">Totale:</dt>
          <dd class="mt-1.5 text-base font-semibold text-white">@ordine.Totale €</dd>
        </dl>

        <dl class="w-1/2 sm:w-1/4 sm:flex-1 lg:w-auto">
          <dt class="text-base font-medium text-gray-400">Stato:</dt>
          @if (ordine.Stato == "Completato")
          {
          <dd
            class="me-2 mt-1.5 inline-flex shrink-0 items-center rounded px-2.5 py-0.5 text-xs font-medium bg-success-600 text-white">
          <i class="ti ti-checks me-1 h-3 w-3"></i>
          Consegnato
          </dd>
          }
          else if (ordine.Stato == "In elaborazione")
          {
            <dd
              class="me-2 mt-1.5 inline-flex shrink-0 items-center rounded px-2.5 py-0.5 text-xs font-medium text-white bg-warning-600">
              <i class="ti ti-truck-delivery me-1 h-3 w-3"></i>
              In transito
            </dd>
          } else
          { <dd
              class="me-2 mt-1.5 inline-flex shrink-0 items-center rounded px-2.5 py-0.5 text-xs font-medium text-white bg-danger-600">
          <i class="ti ti-x me-1 h-3 w-3"></i>
          Annullato
          </dd>
          }
        </dl>
      </div>
      }
    </div>
  </div>
</section>
</body>
</html>
